import{u as v,j as e}from"./index-BeNCzduY.js";import{r as m,c as j,u as w}from"./router-vendor-BRsksEZN.js";const C=()=>{var u,p;const[n,r]=m.useState(""),[t,s]=m.useState(""),[l,i]=m.useState(""),{login:b}=v(),c=j(),d=((p=(u=w().state)==null?void 0:u.from)==null?void 0:p.pathname)||"/",f=a=>{var h;if(a.preventDefault(),i(""),!n||!t){i("Please fill in all fields");return}const o=b(n,t);if(o.success){const x=a.target.elements["sandbox-role"].value||((h=o.user)==null?void 0:h.role);d==="/"&&x?c(`/${x}`,{replace:!0}):d==="/"?c("/borrower",{replace:!0}):c(d,{replace:!0})}else i(o.message)},g=a=>{switch(a.target.value){case"borrower":r("borrower@loansphere.com"),s("password");break;case"lender":r("lender@loansphere.com"),s("password");break;case"analyst":r("analyst@loansphere.com"),s("password");break;case"admin":r("admin@loansphere.com"),s("password");break;default:r(""),s("");break}};return e.jsxs("div",{className:"login-form-container",children:[e.jsx("h2",{className:"login-title",children:"Welcome Back"}),e.jsx("p",{className:"login-subtitle",children:"Enter your credentials to access your account"}),l&&e.jsx("div",{className:"error-message",role:"alert",id:"login-error","aria-live":"assertive",children:l}),e.jsxs("form",{onSubmit:f,className:"login-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"sandbox-role",children:"Select Role"}),e.jsxs("select",{id:"sandbox-role",name:"sandbox-role",className:"form-input",onChange:g,defaultValue:"",autoComplete:"off","aria-label":"Select your role to login",children:[e.jsx("option",{value:"",disabled:!0,children:"Select a role..."}),e.jsx("option",{value:"borrower",children:"Borrower"}),e.jsx("option",{value:"lender",children:"Lender"}),e.jsx("option",{value:"analyst",children:"Financial Analyst"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",name:"email",value:n,onChange:a=>r(a.target.value),placeholder:"name@company.com",className:"form-input",autoComplete:"email","aria-describedby":l?"login-error":void 0,"aria-invalid":!!l,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",id:"password",name:"password",value:t,onChange:a=>s(a.target.value),placeholder:"••••••••",className:"form-input",autoComplete:"current-password","aria-describedby":l?"login-error":void 0,"aria-invalid":!!l,required:!0})]}),e.jsx("button",{type:"submit",className:"btn-primary btn-full",children:"Sign In"})]}),e.jsxs("div",{className:"login-footer",children:[e.jsx("p",{children:"Demo Credentials:"}),e.jsx("small",{children:"admin@loansphere.com / password"})]})]})};export{C as default};
