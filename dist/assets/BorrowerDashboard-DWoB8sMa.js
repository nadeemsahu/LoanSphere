import{u as y,b as N,j as e}from"./index-BeNCzduY.js";import{c as b}from"./router-vendor-BRsksEZN.js";import{D as r}from"./DashboardCard-BAAeOnb-.js";import{T as h}from"./Table-CvVj6SmE.js";import{B as o}from"./Button-DxTX0R12.js";import{S as w}from"./StatusTracker-D7sqV6Kc.js";/* empty css                  */const D=()=>{const{user:i}=y(),l=i==null?void 0:i.name,{loans:u,transactions:x}=N(),n=b(),t=u.filter(s=>s.borrower===l),c=x.filter(s=>s.type==="Payment"&&s.borrower===l),m=t.filter(s=>s.status==="Active"),p=t.filter(s=>s.status==="Pending"),j=t.reduce((s,d)=>s+d.amount,0),g=c.reduce((s,d)=>s+d.amount,0),a=m[0]||t[0],v=[{header:"Loan ID",accessor:"id"},{header:"Amount",render:s=>`$${s.amount.toLocaleString()}`},{header:"Purpose",render:s=>s.purpose||"â€”"},{header:"Rate",render:s=>`${s.interestRate}%`},{header:"Term",render:s=>`${s.term} months`},{header:"Status",render:s=>e.jsx("span",{className:`status-badge status-${s.status.toLowerCase()}`,children:s.status})}],f=[{header:"TxID",accessor:"id"},{header:"Date",accessor:"date"},{header:"Amount",render:s=>`$${s.amount.toLocaleString()}`},{header:"Status",render:()=>e.jsx("span",{className:"status-badge status-success",children:"Success"})}];return e.jsxs("div",{className:"dashboard-container fade-in",children:[e.jsxs("div",{className:"page-header",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"page-title",children:"My Dashboard"}),e.jsxs("p",{className:"page-subtitle",children:["Welcome, ",l,". Track your loans and payments."]})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx(o,{variant:"outline",onClick:()=>n("/borrower/offers"),children:"Browse Offers"}),e.jsx(o,{variant:"primary",onClick:()=>n("/borrower/apply"),children:"Apply for Loan"})]})]}),e.jsxs("div",{className:"dashboard-grid",children:[e.jsx(r,{title:"Total Borrowed",value:`$${j.toLocaleString()}`,label:"Across my loans",icon:"ðŸ’³"}),e.jsx(r,{title:"Active Loans",value:m.length.toString(),label:"Currently running",icon:"ðŸ“„"}),e.jsx(r,{title:"Pending Applications",value:p.length.toString(),label:"Under review",icon:"â³"}),e.jsx(r,{title:"Total Paid",value:`$${g.toLocaleString()}`,trend:{value:"On time",positive:!0},icon:"âœ…"})]}),a&&a.stages&&a.stages.length>0&&e.jsxs("div",{className:"content-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("h3",{children:["Loan Status Tracker â€” #",a.id]}),e.jsx("span",{className:`status-badge status-${a.status.toLowerCase()}`,children:a.status})]}),e.jsx(w,{stages:a.stages})]}),e.jsxs("div",{className:"content-grid-2-1",children:[e.jsxs("div",{className:"content-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"My Loans"}),e.jsx(o,{variant:"outline",onClick:()=>n("/borrower/loans"),style:{fontSize:"12px",padding:"4px 10px"},children:"View All"})]}),t.length===0?e.jsx("div",{className:"no-data",children:"No loans yet. Apply for one!"}):e.jsx(h,{columns:v,data:t,pagination:!1})]}),e.jsxs("div",{className:"content-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"Recent Payments"}),e.jsx(o,{variant:"outline",onClick:()=>n("/borrower/payments"),style:{fontSize:"12px",padding:"4px 10px"},children:"View All"})]}),c.length===0?e.jsx("div",{className:"no-data",children:"No payments recorded yet."}):e.jsx(h,{columns:f,data:c.slice(0,5),pagination:!1})]})]})]})};export{D as default};
