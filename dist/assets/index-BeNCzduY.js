const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-D3IOqYQ4.js","assets/router-vendor-BRsksEZN.js","assets/Login-RN1TvYhx.css","assets/AccessDenied-QNRukrhu.js","assets/Homepage-RiP7VZlv.js","assets/Homepage-DTMIcfmA.css","assets/AdminDashboard-1PE4cZoE.js","assets/DashboardCard-BAAeOnb-.js","assets/DashboardCard-GYeXBA31.css","assets/Table-CvVj6SmE.js","assets/Table-CXptzKHq.css","assets/dashboard-CdmsukDQ.css","assets/LenderDashboard-H-TxgZyL.js","assets/Button-DxTX0R12.js","assets/Button-CtVx7LuT.css","assets/Input-C8Uc0cwY.js","assets/Input-DVn4d7jb.css","assets/CreateLoan-briHIdrs.js","assets/BorrowerDashboard-DWoB8sMa.js","assets/StatusTracker-D7sqV6Kc.js","assets/StatusTracker-Uz_oajD5.css","assets/ApplyLoan-Dvf3HEhT.js","assets/MyLoans-DvM3LIdj.js","assets/Payments-DWxCTMNH.js","assets/BrowseOffers-B1HckMm3.js","assets/AnalystDashboard-B6GT2nX2.js","assets/ChartPlaceholder-Dl0lB0h4.js","assets/ChartPlaceholder-DxQw5T2N.css","assets/AnalyticsPage-Lnj2TIhL.js","assets/RiskReports-BS0UCoLl.js","assets/PlaceholderPage-BhTG3vIa.js","assets/GenericTablePage-DEZIvLvd.js"])))=>i.map(i=>d[i]);
import{r as t,a as oe,u as O,N,b as ae,c as ie,O as E,d as le,R as ce,e as de}from"./router-vendor-BRsksEZN.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const p of l.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function c(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=c(a);fetch(a.href,l)}})();var J={exports:{}},D={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pe=t,ue=Symbol.for("react.element"),me=Symbol.for("react.fragment"),he=Object.prototype.hasOwnProperty,xe=pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fe={key:!0,ref:!0,__self:!0,__source:!0};function V(o,s,c){var i,a={},l=null,p=null;c!==void 0&&(l=""+c),s.key!==void 0&&(l=""+s.key),s.ref!==void 0&&(p=s.ref);for(i in s)he.call(s,i)&&!fe.hasOwnProperty(i)&&(a[i]=s[i]);if(o&&o.defaultProps)for(i in s=o.defaultProps,s)a[i]===void 0&&(a[i]=s[i]);return{$$typeof:ue,type:o,key:l,ref:p,props:a,_owner:xe.current}}D.Fragment=me;D.jsx=V;D.jsxs=V;J.exports=D;var e=J.exports,R={},B=oe;R.createRoot=B.createRoot,R.hydrateRoot=B.hydrateRoot;const ge="modulepreload",je=function(o){return"/"+o},C={},g=function(s,c,i){let a=Promise.resolve();if(c&&c.length>0){document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),u=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));a=Promise.allSettled(c.map(m=>{if(m=je(m),m in C)return;C[m]=!0;const j=m.endsWith(".css"),w=j?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const f=document.createElement("link");if(f.rel=j?"stylesheet":ge,j||(f.as="script"),f.crossOrigin="",f.href=m,u&&f.setAttribute("nonce",u),document.head.appendChild(f),j)return new Promise((L,y)=>{f.addEventListener("load",L),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(p){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=p,window.dispatchEvent(u),!u.defaultPrevented)throw p}return a.then(p=>{for(const u of p||[])u.status==="rejected"&&l(u.reason);return s().catch(l)})},I=[{id:1,name:"Admin User",email:"admin@loansphere.com",role:"admin",password:"password",status:"Active"},{id:2,name:"John Lender",email:"lender@loansphere.com",role:"lender",password:"password",status:"Active"},{id:3,name:"Alice Borrower",email:"borrower@loansphere.com",role:"borrower",password:"password",status:"Active"},{id:4,name:"Sarah Analyst",email:"analyst@loansphere.com",role:"analyst",password:"password",status:"Active"}],T=[{id:101,borrower:"Alice Borrower",amount:5e4,status:"Active",interestRate:5.5,term:12,purpose:"Home Renovation",startDate:"2023-01-15",nextPaymentDate:"2023-10-15",nextPaymentAmount:4350,approvedBy:"John Lender",stages:[{name:"Application Submitted",completed:!0,date:"2023-01-10"},{name:"Underwriting",completed:!0,date:"2023-01-12"},{name:"Approved",completed:!0,date:"2023-01-14"},{name:"Disbursed",completed:!0,date:"2023-01-15"}]},{id:102,borrower:"Bob Smith",amount:25e3,status:"Pending",interestRate:6,term:24,purpose:"Business Expansion",startDate:"2023-02-20",nextPaymentDate:"2023-03-20",nextPaymentAmount:1150,approvedBy:"John Lender",stages:[{name:"Application Submitted",completed:!0,date:"2023-02-18"},{name:"Underwriting",completed:!0,date:"2023-02-19"},{name:"Approved",completed:!1},{name:"Disbursed",completed:!1}]},{id:103,borrower:"Charlie Brown",amount:1e5,status:"Closed",interestRate:4.5,term:36,purpose:"Vehicle Purchase",startDate:"2022-05-10",nextPaymentAmount:0,approvedBy:null,stages:[]},{id:104,borrower:"Alice Borrower",amount:1e4,status:"Pending",interestRate:7,term:6,purpose:"Personal Loan",startDate:"2023-03-01",nextPaymentAmount:1750,approvedBy:"John Lender",stages:[{name:"Application Submitted",completed:!0,date:"2023-03-01"},{name:"Underwriting",completed:!1},{name:"Approved",completed:!1},{name:"Disbursed",completed:!1}]}],$=[{id:"TXN001",date:"2023-03-01",amount:1500,type:"Payment",status:"Success",borrower:"Alice Borrower",loanId:101},{id:"TXN002",date:"2023-02-28",amount:5e4,type:"Disbursement",status:"Success",borrower:"Alice Borrower",loanId:101},{id:"TXN003",date:"2023-02-25",amount:200,type:"Fee",status:"Success",borrower:"Bob Smith",loanId:102}],M=[{id:1,amount:5e4,interestRate:5.5,term:12,lender:"John Lender"},{id:2,amount:25e3,interestRate:6,term:24,lender:"John Lender"},{id:3,amount:1e5,interestRate:4.5,term:36,lender:"Other Lender"}],U=[{action:"User Login",time:"2 mins ago",user:"Admin User",details:"Successful login from IP 192.168.1.1"},{action:"Loan Approved",time:"15 mins ago",user:"John Lender",details:"Approved Loan #101 for Alice Borrower"},{action:"New Registration",time:"1 hour ago",user:"System",details:"New borrower registered: Jane Doe"},{action:"Payment Received",time:"3 hours ago",user:"System",details:"Received $4350 from Loan #101"},{action:"Security Alert",time:"5 hours ago",user:"System",details:"Failed login attempt detected"}],W=t.createContext(null),ye=({children:o})=>{const[s,c]=t.useState(null),[i,a]=t.useState(!0);t.useEffect(()=>{const u=localStorage.getItem("user");u&&c(JSON.parse(u)),a(!1)},[]);const l=(u,m)=>{const j=I.find(w=>w.email===u&&w.password===m);if(j){const{password:w,...f}=j;return c(f),localStorage.setItem("user",JSON.stringify(f)),{success:!0,user:f}}return{success:!1,message:"Invalid credentials"}},p=()=>{c(null),localStorage.removeItem("user")};return e.jsx(W.Provider,{value:{user:s,login:l,logout:p,loading:i},children:!i&&o})},P=()=>t.useContext(W),F=t.createContext(),ve=()=>t.useContext(F),we=({children:o})=>{const[s,c]=t.useState(localStorage.getItem("theme")||"light");t.useEffect(()=>{document.documentElement.setAttribute("data-theme",s),localStorage.setItem("theme",s)},[s]);const i=()=>{c(a=>a==="light"?"dark":"light")};return e.jsx(F.Provider,{value:{theme:s,toggleTheme:i},children:o})},H=t.createContext(null),z=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),be=({children:o})=>{const[s,c]=t.useState(()=>{try{return JSON.parse(localStorage.getItem("fsad_users"))||I}catch{return I}}),[i,a]=t.useState(()=>{try{return JSON.parse(localStorage.getItem("fsad_loans"))||T}catch{return T}}),[l,p]=t.useState(()=>{try{return JSON.parse(localStorage.getItem("fsad_offers"))||M}catch{return M}}),[u,m]=t.useState(()=>{try{return JSON.parse(localStorage.getItem("fsad_transactions"))||$}catch{return $}}),[j,w]=t.useState(()=>{try{return JSON.parse(localStorage.getItem("fsad_activity"))||U}catch{return U}}),[f,L]=t.useState(()=>{try{return JSON.parse(localStorage.getItem("fsad_notifications"))||[]}catch{return[]}});t.useEffect(()=>{localStorage.setItem("fsad_users",JSON.stringify(s)),localStorage.setItem("fsad_loans",JSON.stringify(i)),localStorage.setItem("fsad_offers",JSON.stringify(l)),localStorage.setItem("fsad_transactions",JSON.stringify(u)),localStorage.setItem("fsad_activity",JSON.stringify(j)),localStorage.setItem("fsad_notifications",JSON.stringify(f))},[s,i,l,u,j,f]);const y=(r,d,n)=>{w(x=>[{action:r,user:d,details:n,time:`Just now (${z()})`},...x])},b=(r,d="info")=>{const n={id:Date.now().toString(),message:r,type:d,read:!1,time:z()};L(x=>[n,...x])},q=r=>{L(d=>d.map(n=>n.id===r?{...n,read:!0}:n))},X=()=>{L([])},Q=r=>{const d={...r,id:Date.now(),status:"Active"};c(n=>[d,...n]),y("Add User","Admin",`Added new user: ${r.name} (${r.role})`),b(`New ${r.role} user created: ${r.name}`,"success")},G=r=>{c(d=>d.map(n=>n.id===r?{...n,status:n.status==="Blocked"?"Active":"Blocked"}:n)),y("User Block Toggle","Admin",`Toggled block for user ID ${r}`),b(`User status toggled for ID ${r}`,"warning")},K=r=>{c(d=>d.filter(n=>n.id!==r)),y("User Removed","Admin",`Removed user ID ${r}`),b(`User removed (ID: ${r})`,"error")},Y=(r,d)=>{a(n=>n.map(x=>x.id===r?{...x,status:"Active",approvedBy:d||"Lender",stages:(x.stages||[]).map(v=>v.name==="Approved"||v.name==="Disbursed"?{...v,completed:!0,date:new Date().toISOString().split("T")[0]}:v)}:x)),y("Loan Approved",d||"Lender",`Approved loan request #${r}`),b(`Loan #${r} has been approved by ${d||"Lender"}`,"success")},Z=r=>{a(d=>d.filter(n=>n.id!==r)),y("Loan Deleted","Admin",`Deleted loan #${r}`),b(`Loan #${r} deleted`,"error")},ee=(r,d)=>{const n=parseFloat(r.amount),x=parseInt(r.term,10),v={id:Date.now(),borrower:d||r.borrowerName||"Borrower",amount:n,purpose:r.purpose||"",status:"Pending",interestRate:parseFloat(r.interest||6.5),term:x,startDate:new Date().toISOString().split("T")[0],nextPaymentAmount:Math.round(n/x),approvedBy:null,stages:[{name:"Application Submitted",completed:!0,date:new Date().toISOString().split("T")[0]},{name:"Underwriting",completed:!1},{name:"Approved",completed:!1},{name:"Disbursed",completed:!1}]};a(ne=>[v,...ne]),y("Loan Application",d||"Borrower",`Submitted application for $${n.toLocaleString()}`),b(`${d||"Borrower"} applied for a $${n.toLocaleString()} loan`,"info")},te=(r,d)=>{const n={id:Date.now(),amount:parseFloat(r.amount),interestRate:parseFloat(r.interest),term:parseInt(r.term,10),lender:d||"Lender"};p(x=>[n,...x]),y("Offer Created",d||"Lender",`Published loan offer for $${n.amount.toLocaleString()}`),b(`New loan offer for $${n.amount.toLocaleString()} published by ${d||"Lender"}`,"success")},se=(r,d)=>{const n=l.find(x=>x.id===r);if(n){const x={id:Date.now(),borrower:d||"Borrower",amount:n.amount,purpose:"Applied from Loan Offer",status:"Pending",interestRate:n.interestRate,term:n.term,startDate:new Date().toISOString().split("T")[0],nextPaymentAmount:Math.round(n.amount/n.term),approvedBy:n.lender,stages:[{name:"Application Submitted",completed:!0,date:new Date().toISOString().split("T")[0]},{name:"Underwriting",completed:!1},{name:"Approved",completed:!1},{name:"Disbursed",completed:!1}]};a(v=>[x,...v])}p(x=>x.filter(v=>v.id!==r)),y("Offer Applied",d||"Borrower",`Applied for offer #${r} (${n==null?void 0:n.lender})`),b(`${d||"Borrower"} accepted loan offer #${r}`,"info")},re=(r,d,n)=>{const x={id:`TXN${Date.now().toString().slice(-6)}`,date:new Date().toISOString().split("T")[0],amount:parseFloat(r),type:"Payment",status:"Success",borrower:d||"Borrower",loanId:n||null};m(v=>[x,...v]),y("Payment Received","System",`Received $${parseFloat(r).toLocaleString()} from ${d||"Borrower"}`),b(`Payment of $${parseFloat(r).toLocaleString()} received from ${d||"Borrower"}`,"success")};return e.jsx(H.Provider,{value:{users:s,addUser:Q,blockUser:G,removeUser:K,loans:i,approveLoan:Y,deleteLoan:Z,applyForLoan:ee,offers:l,createOffer:te,applyForOffer:se,transactions:u,addPayment:re,activity:j,logActivity:y,notifications:f,markNotificationRead:q,clearNotifications:X},children:o})},Se=()=>{const o=t.useContext(H);if(!o)throw new Error("useDataContext must be used within a DataProvider");return o},k=({children:o,allowedRoles:s})=>{const{user:c,loading:i}=P(),a=O();return i?e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"var(--bg-color, #0a0a0a)",color:"var(--text-secondary, #a1a1aa)",fontSize:"0.875rem",letterSpacing:"0.05em"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{width:"32px",height:"32px",border:"2px solid var(--border, #27272a)",borderTopColor:"var(--text-primary, #fff)",borderRadius:"50%",animation:"spin 0.8s linear infinite",margin:"0 auto 1rem"}}),e.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"}),"LoanSphere"]})}):c?s&&!s.includes(c.role)?e.jsx(N,{to:"/access-denied",replace:!0}):o:e.jsx(N,{to:"/login",state:{from:a},replace:!0})},Le=({isOpen:o,onClose:s})=>{const{user:c}=P(),i=c==null?void 0:c.role,l={admin:[{label:"Dashboard",path:"/admin",icon:"grid"},{label:"Manage Users",path:"/admin/users",icon:"users"},{label:"All Loans",path:"/admin/loans",icon:"briefcase"},{label:"Transactions",path:"/admin/transactions",icon:"dollar-sign"},{label:"System Activity",path:"/admin/stats",icon:"activity"}],lender:[{label:"Dashboard",path:"/lender",icon:"grid"},{label:"Create Loan Offer",path:"/lender/create-loan",icon:"plus-circle"},{label:"My Offers",path:"/lender/offers",icon:"file-text"},{label:"My Borrowers",path:"/lender/borrowers",icon:"users"},{label:"Payment Tracking",path:"/lender/payments",icon:"dollar-sign"}],borrower:[{label:"Dashboard",path:"/borrower",icon:"grid"},{label:"Browse Offers",path:"/borrower/offers",icon:"file-text"},{label:"Apply for Loan",path:"/borrower/apply",icon:"plus-circle"},{label:"My Loans",path:"/borrower/loans",icon:"briefcase"},{label:"Payments & EMI",path:"/borrower/payments",icon:"dollar-sign"}],analyst:[{label:"Dashboard",path:"/analyst",icon:"grid"},{label:"Analytics",path:"/analyst/analytics",icon:"bar-chart-2"},{label:"Risk Reports",path:"/analyst/risk",icon:"alert-triangle"},{label:"Transactions",path:"/analyst/transactions",icon:"dollar-sign"}]}[i]||[],p=u=>({zap:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),users:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),activity:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),shield:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),grid:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),e.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),"file-text":e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),"dollar-sign":e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),"plus-circle":e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),e.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),briefcase:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),e.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),calendar:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"bar-chart-2":e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),e.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),e.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),file:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),e.jsx("polyline",{points:"13 2 13 9 20 9"})]}),"alert-triangle":e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})})[u]||null;return e.jsxs("aside",{className:`sidebar ${o?"open":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsx("div",{className:"logo-icon",children:"â–²"}),e.jsx("span",{className:"logo-text",children:"LoanSphere"}),e.jsx("button",{className:"sidebar-close-btn",onClick:s,"aria-label":"Close navigation menu",type:"button",children:"Ã—"})]}),e.jsx("nav",{className:"sidebar-nav","aria-label":"Main navigation",children:l.map(u=>e.jsxs(ae,{to:u.path,className:({isActive:m})=>`nav-item ${m?"active":""}`,end:u.path.split("/").length===2,onClick:s,"aria-current":void 0,children:[e.jsx("span",{className:"nav-icon","aria-hidden":"true",children:p(u.icon)}),e.jsx("span",{className:"nav-label",children:u.label})]},u.path))}),e.jsx("div",{className:"sidebar-footer",children:e.jsx("div",{className:"version-info",children:"v2.0.1"})})]})},ke=()=>{const{notifications:o,markNotificationRead:s,clearNotifications:c}=Se(),[i,a]=t.useState(!1),l=t.useRef(null),p=o.filter(m=>!m.read).length;t.useEffect(()=>{const m=j=>{l.current&&!l.current.contains(j.target)&&a(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const u=()=>a(!i);return e.jsxs("div",{className:"notification-wrapper",ref:l,children:[e.jsxs("button",{className:"notification-trigger",onClick:u,"aria-label":"Notifications",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),p>0&&e.jsx("span",{className:"notification-badge",children:p})]}),i&&e.jsxs("div",{className:"notification-dropdown",children:[e.jsxs("div",{className:"notification-header",children:[e.jsx("h3",{children:"Notifications"}),o.length>0&&e.jsx("button",{className:"clear-all-btn",onClick:c,children:"Clear All"})]}),e.jsx("div",{className:"notification-list",children:o.length===0?e.jsx("div",{className:"empty-notifications",children:"No new notifications"}):o.map(m=>e.jsxs("div",{className:`notification-item ${m.read?"":"unread"} ${m.type}`,onClick:()=>s(m.id),children:[e.jsxs("div",{className:"notif-content",children:[e.jsx("p",{children:m.message}),e.jsx("span",{className:"notif-time",children:m.time})]}),!m.read&&e.jsx("div",{className:"unread-dot"})]},m.id))})]})]})},_e=o=>{const s=o.replace(/^\//,"").split("/"),c=s[s.length-1];return c?c.replace(/-/g," ").replace(/\b\w/g,i=>i.toUpperCase()):"Dashboard"},Ae=({onToggleMenu:o})=>{var f;const{user:s,logout:c}=P(),{theme:i,toggleTheme:a}=ve(),[l,p]=t.useState(!1),u=ie(),m=O(),j=_e(m.pathname),w=()=>{p(!1),c(),u("/login",{replace:!0})};return e.jsxs("header",{className:"navbar",role:"banner",children:[e.jsxs("div",{className:"navbar-left",children:[e.jsx("button",{className:"hamburger-btn",onClick:o,"aria-label":"Toggle navigation menu","aria-expanded":!1,type:"button",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",focusable:"false",children:[e.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),e.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),e.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),e.jsx("nav",{className:"breadcrumb","aria-label":"Breadcrumb",children:e.jsx("span",{className:"breadcrumb-current","aria-current":"page",children:j})})]}),e.jsxs("div",{className:"navbar-right",role:"navigation","aria-label":"User menu",children:[e.jsx("button",{className:"theme-toggle",onClick:a,"aria-label":i==="light"?"Switch to dark mode":"Switch to light mode",type:"button",children:e.jsx("span",{"aria-hidden":"true",children:i==="light"?"ðŸŒ™":"â˜€ï¸"})}),e.jsx(ke,{}),e.jsxs("div",{className:"profile-dropdown-container",children:[e.jsxs("button",{className:"profile-btn",onClick:()=>p(!l),"aria-haspopup":"true","aria-expanded":l,"aria-label":`User menu for ${s==null?void 0:s.name}`,type:"button",children:[e.jsx("div",{className:"avatar-circle","aria-hidden":"true",children:(f=s==null?void 0:s.name)==null?void 0:f.charAt(0).toUpperCase()}),e.jsx("span",{className:"profile-name",children:s==null?void 0:s.name}),e.jsx("svg",{className:"chevron-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",focusable:"false",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),l&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"dropdown-overlay-mask",onClick:()=>p(!1),role:"presentation"}),e.jsxs("div",{className:"profile-menu",role:"menu","aria-label":"User options",children:[e.jsxs("div",{className:"menu-header",children:[e.jsx("span",{className:"menu-role",children:s==null?void 0:s.role}),e.jsx("span",{className:"menu-email",children:s==null?void 0:s.email})]}),e.jsx("div",{className:"menu-divider",role:"separator"}),e.jsx("button",{className:"menu-item",role:"menuitem",type:"button",children:"Settings"}),e.jsx("button",{className:"menu-item text-danger",onClick:w,role:"menuitem",type:"button",children:"Logout"})]})]})]})]})]})},_=()=>{const[o,s]=t.useState(!1),c=O();t.useEffect(()=>{s(!1)},[c]);const i=()=>{s(!o)};return e.jsxs("div",{className:"dashboard-layout",children:[e.jsx("div",{className:`sidebar-overlay ${o?"visible":""}`,onClick:()=>s(!1)}),e.jsx(Le,{isOpen:o,onClose:()=>s(!1)}),e.jsxs("main",{className:"main-content",children:[e.jsx(Ae,{onToggleMenu:i}),e.jsx("div",{id:"main-content",className:"page-content fade-in",tabIndex:"-1",children:e.jsx(E,{})})]})]})},Ne=()=>e.jsx("div",{className:"auth-layout",children:e.jsxs("div",{className:"auth-container",children:[e.jsxs("div",{className:"auth-header",children:[e.jsx("div",{className:"logo-icon",children:e.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12 2L2 22h20L12 2z"})})}),e.jsx("h1",{children:"LoanSphere"})]}),e.jsx("div",{className:"auth-card",children:e.jsx(E,{})})]})}),Oe={"/":"Home | LoanSphere","/login":"Sign In | LoanSphere","/admin":"Admin Dashboard | LoanSphere","/admin/users":"Manage Users | LoanSphere Admin","/admin/loans":"All Loans | LoanSphere Admin","/admin/transactions":"System Transactions | LoanSphere Admin","/admin/stats":"System Activity | LoanSphere Admin","/lender":"Lender Dashboard | LoanSphere","/lender/offers":"My Loan Offers | LoanSphere Lender","/lender/borrowers":"Qualified Borrowers | LoanSphere Lender","/lender/payments":"Payment Tracking | LoanSphere Lender","/lender/create-loan":"Create Loan Offer | LoanSphere Lender","/borrower":"Borrower Dashboard | LoanSphere","/borrower/offers":"Browse Offers | LoanSphere","/borrower/apply":"Apply for Loan | LoanSphere","/borrower/loans":"My Loans | LoanSphere","/borrower/payments":"Make a Payment | LoanSphere","/analyst":"Analyst Dashboard | LoanSphere","/analyst/analytics":"System Analytics | LoanSphere Analyst","/analyst/risk":"Risk Reports | LoanSphere Analyst","/analyst/transactions":"All Transactions | LoanSphere Analyst"},De=()=>{const o=O();t.useEffect(()=>{const s=Oe[o.pathname]||"LoanSphere - Loan Issuance Management";document.title=s},[o.pathname])},Pe=()=>(De(),null),Re=t.lazy(()=>g(()=>import("./Login-D3IOqYQ4.js"),__vite__mapDeps([0,1,2]))),Ie=t.lazy(()=>g(()=>import("./AccessDenied-QNRukrhu.js"),__vite__mapDeps([3,1]))),Ee=t.lazy(()=>g(()=>import("./Homepage-RiP7VZlv.js"),__vite__mapDeps([4,1,5]))),Be=t.lazy(()=>g(()=>import("./AdminDashboard-1PE4cZoE.js"),__vite__mapDeps([6,1,7,8,9,10,11]))),Ce=t.lazy(()=>g(()=>import("./LenderDashboard-H-TxgZyL.js"),__vite__mapDeps([12,1,7,8,9,10,13,14,15,16,11]))),Te=t.lazy(()=>g(()=>import("./CreateLoan-briHIdrs.js"),__vite__mapDeps([17,1,11]))),$e=t.lazy(()=>g(()=>import("./BorrowerDashboard-DWoB8sMa.js"),__vite__mapDeps([18,1,7,8,9,10,13,14,19,20,11]))),Me=t.lazy(()=>g(()=>import("./ApplyLoan-Dvf3HEhT.js"),__vite__mapDeps([21,1,13,14,15,16,11]))),Ue=t.lazy(()=>g(()=>import("./MyLoans-DvM3LIdj.js"),__vite__mapDeps([22,1,9,10,19,20,11]))),ze=t.lazy(()=>g(()=>import("./Payments-DWxCTMNH.js"),__vite__mapDeps([23,1,9,10,13,14,11]))),Je=t.lazy(()=>g(()=>import("./BrowseOffers-B1HckMm3.js"),__vite__mapDeps([24,1,9,10,11]))),Ve=t.lazy(()=>g(()=>import("./AnalystDashboard-B6GT2nX2.js"),__vite__mapDeps([25,1,7,8,26,27,9,10,13,14,11]))),We=t.lazy(()=>g(()=>import("./AnalyticsPage-Lnj2TIhL.js"),__vite__mapDeps([28,1,26,27,11]))),Fe=t.lazy(()=>g(()=>import("./RiskReports-BS0UCoLl.js"),__vite__mapDeps([29,1,11]))),A=t.lazy(()=>g(()=>import("./PlaceholderPage-BhTG3vIa.js"),__vite__mapDeps([30,1]))),S=t.lazy(()=>g(()=>import("./GenericTablePage-DEZIvLvd.js"),__vite__mapDeps([31,1,9,10,11]))),h=()=>e.jsx("div",{role:"status","aria-label":"Loading page",style:{padding:"2rem",textAlign:"center",color:"#a1a1aa",fontSize:"0.875rem"},children:"Loadingâ€¦"}),He={admin:"/admin",lender:"/lender",borrower:"/borrower",analyst:"/analyst"},qe=()=>{const{user:o,loading:s}=P();return s?e.jsx(h,{}):o?e.jsx(N,{to:He[o.role]||"/login",replace:!0}):e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(Ee,{})})},Xe=()=>e.jsxs(e.Fragment,{children:[e.jsx(Pe,{}),e.jsx(E,{})]}),Qe=le([{element:e.jsx(Xe,{}),children:[{path:"/",element:e.jsx(qe,{})},{element:e.jsx(Ne,{}),children:[{path:"login",element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(Re,{})})},{path:"access-denied",element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(Ie,{})})}]},{path:"/admin",element:e.jsx(k,{allowedRoles:["admin"],children:e.jsx(_,{})}),children:[{index:!0,element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(Be,{})})},{path:"users",element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(S,{title:"User Management",type:"users"})})},{path:"loans",element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(S,{title:"All Loans",type:"loans"})})},{path:"transactions",element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(S,{title:"Transactions",type:"transactions"})})},{path:"stats",element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(S,{title:"System Activity",type:"activity"})})},{path:"*",element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(A,{})})}]},{path:"/lender",element:e.jsx(k,{allowedRoles:["lender"],children:e.jsx(_,{})}),children:[{index:!0,element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(Ce,{})})},{path:"offers",element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(S,{title:"Loan Offers",type:"offers"})})},{path:"borrowers",element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(S,{title:"Qualified Borrowers",type:"users"})})},{path:"payments",element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(S,{title:"Payment Tracking",type:"payments"})})},{path:"create-loan",element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(Te,{})})},{path:"*",element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(A,{})})}]},{path:"/borrower",element:e.jsx(k,{allowedRoles:["borrower"],children:e.jsx(_,{})}),children:[{index:!0,element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx($e,{})})},{path:"offers",element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(Je,{})})},{path:"apply",element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(Me,{})})},{path:"loans",element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(Ue,{})})},{path:"payments",element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(ze,{})})},{path:"*",element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(A,{})})}]},{path:"/analyst",element:e.jsx(k,{allowedRoles:["analyst"],children:e.jsx(_,{})}),children:[{index:!0,element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(Ve,{})})},{path:"analytics",element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(We,{})})},{path:"risk",element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(Fe,{})})},{path:"transactions",element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(S,{title:"Transactions",type:"transactions"})})},{path:"*",element:e.jsx(t.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(A,{})})}]},{path:"*",element:e.jsx(N,{to:"/login",replace:!0})}]}]);function Ge(){return e.jsx(we,{children:e.jsx(ye,{children:e.jsx(be,{children:e.jsx(ce,{router:Qe})})})})}R.createRoot(document.getElementById("root")).render(e.jsx(de.StrictMode,{children:e.jsx(Ge,{})}));export{ve as a,Se as b,e as j,P as u};
